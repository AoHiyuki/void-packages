# Template file for 'beancount'
pkgname=beancount
version=2.3.4
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools"
makedepends="python3-devel"
depends="python3-dateutil python3-requests python3-httplib2 python3-oauth2client
 python3-ply python3-lxml python3-click python3-google-api-python-client
 python3-bottle python3-google-auth-oauthlib python3-BeautifulSoup4"
checkdepends="$depends python3-pytest python3-magic"
short_desc="Double-entry accounting system based on plain text files"
maintainer="Aluísio Augusto Silva Gonçalves <aluisio@aasg.name>"
license="GPL-2.0-only"
homepage="http://furius.ca/beancount/"
distfiles="https://github.com/beancount/beancount/archive/${version}.tar.gz"
checksum=2daaeab4796d4db9440b06256194302a60d3c245a01e530543ba3df4a435b2ae

do_check() {
	cd build/lib*
	pytest
}

post_install() {
	vdoc ${FILESDIR}/README.voidlinux
}
