# Template file for 'webrtc-audio-processing'
pkgname=webrtc-audio-processing
version=1.0
revision=1
build_style=meson
makedepends="abseil-cpp"
short_desc="AudioProcessing library based on Google's implementation of WebRTC"
maintainer="Orphaned <orphan@voidlinux.org>"
license="BSD-3-Clause"
homepage="http://freedesktop.org/software/pulseaudio/webrtc-audio-processing"
distfiles="${homepage}/${pkgname}-${version}.tar.gz"
checksum=441a30d2717b2eb4145c6eb96c2d5a270fe0b4bc71aebf76716750c47be1936f

pre_configure() {
	vsed -e 's/absl_flags_registry/absl_flags_reflection/' -i meson.build
}

post_install() {
	vlicense COPYING
}

webrtc-audio-processing-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}
