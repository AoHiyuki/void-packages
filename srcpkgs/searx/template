# Template file for 'searx'
pkgname=searx
version=1.0.0
revision=1
build_style=python3-module
hostmakedepends="python3-setuptools python3-yaml"
depends="python3-certifi python3-dateutil python3-Flask python3-Flask-Babel
 python3-Babel python3-idna python3-lxml python3-Pygments python3-yaml
 python3-requests python3-pysocks python3-langdetect uwsgi uwsgi-python3"
short_desc="Privacy-respecting metasearch engine"
maintainer="FollieHiyuki <folliekazetani@protonmail.com>"
license="AGPL-3.0-or-later"
homepage="https://searx.github.io/searx/"
distfiles="https://github.com/searx/searx/archive/${version}.tar.gz"
checksum=4587acc9bd2bf428fe9ac8e4d79d3637dac308a8e5bdeee4f0bae85bfe5c67fe
# Test depends on python3-splinter
make_check=no

system_accounts="_searx"

post_install() {
	vlicense LICENSE

	vmkdir etc/searx
	mv ${DESTDIR}/usr/lib/python${py3_ver}/site-packages/searx/settings.yml ${DESTDIR}/etc/searx/
}
